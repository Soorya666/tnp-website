---
import LogosMarquee from "./LogosMarquee.tsx";

const response = await fetch(
  `${
    import.meta.env.PUBLIC_URL
  }/api/offers?filters[isTopRecruiter][$eq]=true&populate=*`
);
const data1 = await response.json();

const data = data1.data.map(item => ({
  title: item.attributes.title,
  imgUrl: item.attributes.logo.data.attributes.url
}));
---

<div
  class="w-full max-h-min flex flex-1 flex-col pt-5 justify-start sm:flex-row overflow-x-visible"
>
  <div class="flex flex-col mt-4 flex-initial xl:w-1/2 md:w-1/2 sm:w-full">
    <div class="m-8">
      <p class="text-3xl font-title pb-4">Top Recruiters</p>
      <p class="text-slate-700 font-Inter">
        TCET has an enviable record in placement of students. The institute has
        been accredited by major companies like Infosys, Tata Consultancy
        Services, iGATE, and Tech mahindra, etc.
      </p>
    </div>
  </div>
  <div
    class="carousel relative my-auto flex flex-col sm:left-16 gap-y-8 xl:gap-y-12 py-8 xl:py-10 rounded-3xl 
    bg-[#FCFCFD] w-[130%]  lg:w-[50%] overscroll-none md:w-fit left-[-15%] md:left-[4%] "
  >
    <div
      class="w-full rounded-3xl absolute z-50 top-0 h-28 bg-gradient-to-b from-[rgba(242,244,247,1)] to-[rgba(242,244,247,0)]"
    >
    </div>
    <div
      class="w-full rounded-3xl absolute z-50 bottom-0 h-28 bg-gradient-to-t from-[rgba(242,244,247,1)] to-[rgba(242,244,247,0)]"
    >
    </div>
    <LogosMarquee client:only="react" data={data} />
    <LogosMarquee client:only="react" data={data} oppDirection />
    <LogosMarquee client:only="react" data={data} />
    <LogosMarquee client:only="react" data={data} oppDirection />
  </div>
</div>
